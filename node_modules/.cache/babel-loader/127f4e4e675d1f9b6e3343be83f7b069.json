{"ast":null,"code":"var _jsxFileName = \"/Users/johntraut/code/Project3/nyacht_project3/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport DashBoard from './components/Dashboard';\nimport Store from './components/Store'; //------JOE ADDS-------\n\nimport LoginForm from './components/LoginForm';\nimport SignUpForm from './components/SignUpForm'; //-----------------------------------\n\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      password: \"\",\n      loggedInUser: \"\",\n      manateeName: \"\",\n      url: \"http://localhost:3003\" // url:\"https://manateepi.herokuapp.com\",\n\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.readSessions = () => {\n      axios.get(\"\".concat(this.state.url, \"/auth/readsessions\"), {\n        withCredentials: true\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          loggedInUser: res.data.user\n        });\n      });\n    };\n\n    this.handleLoginFormSubmit = event => {\n      if (event) {\n        event.preventDefault();\n      }\n\n      axios.post(\"\".concat(this.state.url, \"/auth/login\"), {\n        name: this.state.name,\n        password: this.state.password\n      }, {\n        withCredentials: true\n      }).then(res => {\n        console.log(res.data, res.status);\n        this.setState({\n          name: \"\",\n          password: \"\",\n          loggedInUser: res.data.user\n        });\n      }).catch(err => {\n        console.log(err.response);\n        this.setState({\n          name: \"\",\n          password: \"\",\n          loggedInUser: \"\"\n        });\n      });\n    };\n\n    this.handleSignupFormSubmit = event => {\n      event.preventDefault();\n      axios.post(\"\".concat(this.state.url, \"/auth/signup\"), {\n        name: this.state.name,\n        password: this.state.password\n      }, {\n        withCredentials: true\n      }).then(res => {\n        console.log(res.data, res.status);\n        this.handleLoginFormSubmit();\n      }).catch(err => {\n        console.log(err.response);\n      });\n    };\n  }\n\n  //JOE ADDS END---------------------------\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(LoginForm, {\n      name: this.state.name,\n      password: this.state.password,\n      handleChange: this.handleChange,\n      handleLoginFormSubmit: this.handleLoginFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(SignUpForm, {\n      name: this.state.name,\n      password: this.state.password,\n      handleChange: this.handleChange,\n      handleSignupFormSubmit: this.handleSignupFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), this.state.loggedInUser ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Store, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(DashBoard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }))) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/johntraut/code/Project3/nyacht_project3/src/App.js"],"names":["React","Component","axios","DashBoard","Store","LoginForm","SignUpForm","App","state","name","password","loggedInUser","manateeName","url","handleChange","event","target","value","setState","readSessions","get","withCredentials","then","res","console","log","data","user","handleLoginFormSubmit","preventDefault","post","status","catch","err","response","handleSignupFormSubmit","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport DashBoard from './components/Dashboard';\nimport Store from './components/Store';\n\n\n//------JOE ADDS-------\nimport LoginForm from './components/LoginForm';\nimport SignUpForm from './components/SignUpForm';\n//-----------------------------------\n\n\nexport default class App extends Component {\n//JOE ADDS START-------------------------------\n  state = {\n    name:\"\",\n    password:\"\",\n    loggedInUser:\"\",\n    manateeName:\"\",\n    url:\"http://localhost:3003\",\n    // url:\"https://manateepi.herokuapp.com\",\n  }\n\n  handleChange= event=>{\n    const {name,value}=event.target;\n    this.setState({\n      [name]:value\n    })\n  };\n\n  readSessions = ()=>{\n    axios.get(`${this.state.url}/auth/readsessions`,{withCredentials:true}).then(res=>{\n      console.log(res.data)\n      this.setState({loggedInUser:res.data.user})\n    })\n  }\n\n  handleLoginFormSubmit = event=>{\n    if(event){\n\n      event.preventDefault();\n    }\n    axios.post(`${this.state.url}/auth/login`,{name:this.state.name,password:this.state.password},{withCredentials:true}).then(res=>{\n      console.log(res.data,res.status)\n      this.setState({\n        name:\"\",\n        password:\"\",\n        loggedInUser:res.data.user\n      });\n\n    }).catch(err=>{\n      console.log(err.response);\n      this.setState({\n        name:\"\",\n        password:\"\",\n        loggedInUser:\"\"\n      })\n    })\n  }\n\n  handleSignupFormSubmit = event=>{\n    event.preventDefault();\n    axios.post(`${this.state.url}/auth/signup`,{name:this.state.name,password:this.state.password},{withCredentials:true}).then(res=>{\n      console.log(res.data,res.status)\n      this.handleLoginFormSubmit();\n    }).catch(err=>{\n      console.log(err.response);\n    })\n  }\n  //JOE ADDS END---------------------------\n\n\n  render(){\n  return (\n    <div className=\"App\">\n       <LoginForm name={this.state.name} password={this.state.password}handleChange={this.handleChange} handleLoginFormSubmit={this.handleLoginFormSubmit}/>\n       <SignUpForm name={this.state.name} password={this.state.password}handleChange={this.handleChange} handleSignupFormSubmit={this.handleSignupFormSubmit}/>\n       {this.state.loggedInUser?(\n          <div>\n           \n      <Store>\n      <DashBoard />\n      </Store>\n          </div>\n\n          ):(null)}\n  \n    </div>\n  );\n}\n}\n"]},"metadata":{},"sourceType":"module"}