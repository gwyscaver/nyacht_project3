{"ast":null,"code":"var _jsxFileName = \"/Users/johntraut/code/Project3/nyacht_project3/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport DashBoard from './components/Dashboard';\nimport Store from './components/Store';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\"; //------JOE ADDS-------\n\nimport LoginForm from './components/LoginForm';\nimport SignUpForm from './components/SignUpForm'; //-----------------------------------\n\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      password: \"\",\n      loggedInUser: \"\",\n      url: \"http://localhost:3003\" // url:\"https://manateepi.herokuapp.com\",\n\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.readSessions = () => {\n      axios.get(\"\".concat(this.state.url, \"/auth/readsessions\"), {\n        withCredentials: true\n      }).then(res => {\n        console.log(\"Cookie\", res.data);\n        this.setState({\n          loggedInUser: res.data.user\n        });\n      });\n    };\n\n    this.handleLoginFormSubmit = event => {\n      if (event) {\n        event.preventDefault();\n      }\n\n      axios.post(\"\".concat(this.state.url, \"/auth/login\"), {\n        name: this.state.name,\n        password: this.state.password\n      }, {\n        withCredentials: true\n      }).then(res => {\n        console.log(res.data, res.status);\n        this.setState({\n          name: \"\",\n          password: \"\",\n          loggedInUser: res.data.user\n        });\n      }).catch(err => {\n        console.log(err.response);\n        this.setState({\n          name: \"\",\n          password: \"\",\n          loggedInUser: \"\"\n        });\n      });\n    };\n\n    this.handleSignupFormSubmit = event => {\n      event.preventDefault();\n      axios.post(\"\".concat(this.state.url, \"/auth/signup\"), {\n        name: this.state.name,\n        password: this.state.password\n      }, {\n        withCredentials: true\n      }).then(res => {\n        console.log(res.data, res.status);\n        this.handleLoginFormSubmit();\n      }).catch(err => {\n        console.log(err.response);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.readSessions();\n  }\n\n  //JOE ADDS END---------------------------\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(LoginForm, {\n        name: this.state.name,\n        password: this.state.password,\n        handleChange: this.handleChange,\n        handleLoginFormSubmit: this.handleLoginFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: () => React.createElement(SignUpForm, {\n        name: this.state.name,\n        password: this.state.password,\n        handleChange: this.handleChange,\n        handleSignupFormSubmit: this.handleSignupFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/dash\",\n      render: () => this.state.loggedInUser ? React.createElement(Store, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(DashBoard, {\n        user: this.state.loggedInUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })) : null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/johntraut/code/Project3/nyacht_project3/src/App.js"],"names":["React","Component","axios","DashBoard","Store","BrowserRouter","Router","Switch","Route","Link","LoginForm","SignUpForm","App","state","name","password","loggedInUser","url","handleChange","event","target","value","setState","readSessions","get","withCredentials","then","res","console","log","data","user","handleLoginFormSubmit","preventDefault","post","status","catch","err","response","handleSignupFormSubmit","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport DashBoard from './components/Dashboard';\nimport Store from './components/Store';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\n//------JOE ADDS-------\nimport LoginForm from './components/LoginForm';\nimport SignUpForm from './components/SignUpForm';\n//-----------------------------------\n\n\nexport default class App extends Component {\n//JOE ADDS START-------------------------------\n  state = {\n    name:\"\",\n    password:\"\",\n    loggedInUser:\"\",\n    url:\"http://localhost:3003\",\n    // url:\"https://manateepi.herokuapp.com\",\n  }\n\n  handleChange= event=>{\n    const {name,value}=event.target;\n    this.setState({\n      [name]:value\n    })\n  };\n\n  componentDidMount(){\n    this.readSessions();\n  }\n  readSessions = ()=>{\n    axios.get(`${this.state.url}/auth/readsessions`,{withCredentials:true}).then(res=>{\n      console.log(\"Cookie\", res.data)\n      this.setState({loggedInUser:res.data.user})\n    })\n  }\n\n  handleLoginFormSubmit = event=>{\n    if(event){\n\n      event.preventDefault();\n    }\n    axios.post(`${this.state.url}/auth/login`,{name:this.state.name,password:this.state.password},{withCredentials:true}).then(res=>{\n      console.log(res.data,res.status)\n      this.setState({\n        name:\"\",\n        password:\"\",\n        loggedInUser:res.data.user\n      });\n\n    }).catch(err=>{\n      console.log(err.response);\n      this.setState({\n        name:\"\",\n        password:\"\",\n        loggedInUser:\"\"\n      })\n    })\n  }\n\n  handleSignupFormSubmit = event=>{\n    event.preventDefault();\n    axios.post(`${this.state.url}/auth/signup`,{name:this.state.name,password:this.state.password},{withCredentials:true}).then(res=>{\n      console.log(res.data,res.status)\n      this.handleLoginFormSubmit();\n    }).catch(err=>{\n      console.log(err.response);\n    })\n  }\n  //JOE ADDS END---------------------------\n\n\n  render(){\n  return (\n    <Router>\n    <div className=\"App\">\n      \n       <Route exact path=\"/\" render={()=> <LoginForm name={this.state.name} password={this.state.password}handleChange={this.handleChange} handleLoginFormSubmit={this.handleLoginFormSubmit}/>}/>\n       <Route exact path=\"/signup\" render={()=><SignUpForm name={this.state.name} password={this.state.password}handleChange={this.handleChange} handleSignupFormSubmit={this.handleSignupFormSubmit}/>}/>\n       <Route exact path=\"/dash\" render={ ()=> \n\n       this.state.loggedInUser?(\n          \n      <Store>\n      <DashBoard user={this.state.loggedInUser}/>\n      </Store>\n        \n          ):(null)}/>\n  \n    </div>\n    </Router>\n  );\n}\n}\n"]},"metadata":{},"sourceType":"module"}